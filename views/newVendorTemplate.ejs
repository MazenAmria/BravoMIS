<div class="row">
    <div class='col-sm-6 col-xs-12'>
        <div class='widget' style="height: calc(100vh - 260px); overflow-y: hidden;">
            <form onsubmit="addVendor()"
                    style="display: flex; flex-direction: column; justify-content: space-between; height: calc(100vh - 320px);">
                <div style="display: flex; flex-direction: column; justify-content: space-between; height: calc(100vh - 450px);">
                    <div class="form-group row">
                        <label for="vendor_id" class="col-sm-4">المعرّف</label>
                        <div class="col-sm-8">
                            <input type="text" name="vendor_id" id="vendor_id" required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="vendor_name" class="col-sm-4">اسم المورّد</label>
                        <div class="col-sm-8">
                            <input type="text" name="vendor_name" id="vendor_name" required>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="vendor_location" class="col-sm-4">العنوان</label>
                        <div class="col-sm-8">
                            <input type="text" name="vendor_location" id="vendor_location" required>
                        </div>
                    </div>
                </div>

                <div class="form-group row">
                    <button class='main-background submit-employee mbutton'>
                        <span><i class="fas fa-plus"></i></span>إضافة مورّد</button>
                </div>
            </form>
        </div>
    </div>
</div>

<script>
    function addVendor() {
        event.preventDefault();
        $.ajax({
            url: '/api/vendors/new',
            method: 'POST',
            data: {
                vendor: getFormData($('form'))
            },
            success: () => {
                $.alert({
                    title: `نجاح!`,
                    icon: 'fas fa-check',
                    draggable: false,
                    rtl: true,
                    closeIcon: true,
                    type: 'green',
                    content: 'تم إضافة المورّد بنجاح',
                    buttons: {
                        cancel: {
                            text: 'حسنًا',
                            keys: ['enter']
                        }
                    }
                });
            },
            error: () => {
                $.alert({
                    title: `خطأ!`,
                    icon: 'fas fa-exclamation-triangle',
                    draggable: false,
                    rtl: true,
                    closeIcon: true,
                    type: 'red',
                    content: 'حدث خطأ داخلي، يرجى إعادة المحاولة لاحقًا!',
                    buttons: {
                        cancel: {
                            text: 'حسنًا',
                            keys: ['enter']
                        }
                    }
                });
            }
        });
    }
</script>
